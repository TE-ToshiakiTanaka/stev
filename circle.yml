machine:
    python:
        version: 2.6
        version: 2.7
        version: 3.3
        version: 3.4
    timezone: Asia/Tokyo

dependencies:
    pre:
        - pip install wheel
        - pip install nose
        - pip install coverage

test:
    override:
        - nosetests -v --with-xunit --with-coverage --cover-branches --cover-html
        - python setup.py bdist_wheel
    post:
        - mkdir -p $CIRCLE_TEST_REPORTS/nose/
        - mv nosetests.xml $CIRCLE_TEST_REPORTS/nose/
        - mv dist $CIRCLE_ARTIFACTS
        - mv cover $CIRCLE_ARTIFACTS
